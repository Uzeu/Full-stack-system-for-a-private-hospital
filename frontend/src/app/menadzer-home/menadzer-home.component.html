<body class="d-flex flex-column min-vh-100">


  <nav class="navbar navbar-expand-md navbar-light py-0" style="background-color: #5AF0B4;">
    <div class="container">

      <a class="navbar-brand" href="#">
        <img src="/assets/logo.png" alt="Logo" width="50" height="50">
      </a>

      <div class="navbar-text ml-auto">
        <button type="button" class="btn  btn-login mx-2" (click)="redirectToInsert()">Insert lekara</button>
        <button type="button" class="btn  btn-login mx-2" (click)="prebaciNaSpec()">Insert specijalizaciju</button>
      </div>
    </div>
  </nav>

  <hr>




  <div class="container">
    <h3 class="text-center mt-3">Lista korisnika</h3>
    <div class="table-responsive mb-4">
      <table class="table table-bordered table-striped">
        <thead>
          <tr>
            <th>Slika</th>
            <th>Username</th>
            <th>Ime</th>
            <th>Prezime</th>
            <th>Email</th>
            <th>Adresa</th>
            <th>Broj telefona</th>
            <th>Izbriši</th>
            <th>Ažuriraj</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of useri">
            <td><img class="profilslika" src="{{user.photo}}" alt=""></td>
            <td>{{user.username}}</td>
            <td>{{user.firstname}}</td>
            <td>{{user.lastname}}</td>
            <td>{{user.email}}</td>
            <td>{{user.adress}}</td>
            <td>{{user.phone}}</td>
            <td><button class="btn btn-primary" (click)="odbij(user.username)">izbriši</button></td>
            <td><button class="btn btn-primary " (click)="prebaciProfil(user.username)">ažuriraj</button></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <hr>

  <div class="container">
    <h3 class="text-center mt-3">Korisnici koji čekaju na registraciju</h3>
    <div class="table-responsive mb-4">
      <table class="table table-bordered table-striped">
        <thead>
          <tr>
            <th>Slika</th>
            <th>Username</th>
            <th>Ime</th>
            <th>Prezime</th>
            <th>Email</th>
            <th>Adresa</th>
            <th>Broj telefona</th>

            <th>Odobri</th>
            <th>Odbij</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of useriCekaju">
            <td><img class="profilslika" src="{{user.photo}}" alt=""></td>
            <td>{{user.username}}</td>
            <td>{{user.firstname}}</td>
            <td>{{user.lastname}}</td>
            <td>{{user.email}}</td>
            <td>{{user.adress}}</td>
            <td>{{user.phone}}</td>
            <td><button class="btn btn-primary" (click)="odobri(user.username)">odobri</button></td>
            <td><button class="btn btn-primary" (click)="odbij(user.username)">odbij</button></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <hr>

  <div class="container">
    <h3 class="text-center mt-3">Lista Lekara</h3>
    <div class="table-responsive mb-4">
      <table class="table table-bordered table-striped ">
        <thead>
          <tr>
            <th>Slika</th>
            <th>Username</th>
            <th>Ime</th>
            <th>Prezime</th>
            <th>Specijalizacija</th>
            <th>Licenca</th>
            <th>Email</th>
            <th>Adresa</th>
            <th>Telefon</th>
            <th>Ordinacija</th>
            <th>Izbriši</th>
            <th>Ažuriraj</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let lekar of lekari">
            <td><img class="profilslika" src="{{lekar.photo}}" alt=""></td>
            <td>{{lekar.username}}</td>
            <td>{{lekar.firstname}}</td>
            <td>{{lekar.lastname}}</td>
            <td>{{lekar.specialization}}</td>
            <td>{{lekar.licence}}</td>
            <td>{{lekar.email}}</td>
            <td>{{lekar.adress}}</td>
            <td>{{lekar.phone}}</td>
            <td>{{lekar.office}}</td>
            <td><button class="btn btn-primary" (click)="izbrisiLekar(lekar.username)">izbriši</button></td>
            <td><button class="btn btn-primary" (click)="prebaciProfilLekar(lekar.username)">ažuriraj</button></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>


  <hr>

  

  <div class="container mt-4 background filter-container" [ngClass]="{'show-filter': !showFilters}">
    <div class="container   justify-content-center " style="width: 40%;">
      <h3 class="text-center mt-3" id="specijalizacija">Specijalizacije</h3>
      <div class="table-responsive mb-4">
        <table class="table table-bordered table-striped ">
          <thead>
            <tr>
              <th>Naziv</th>
              <th>Upravljanje pregledima</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let specijalizacija of specijalizacije">
              <td>{{specijalizacija.specialization}}</td>
              <td><button class="btn btn-primary" (click)="pregledi(specijalizacija.specialization)">Upravljanje
                  pregledima</button></td>
            </tr>
          </tbody>

        </table>


      </div>
      <div class="container d-flex justify-content-center mt-4">
        <div class="input-group">
          <input type="text" class="form-control" placeholder="Naziv specijalizacije" id="specialization">
          <button class="btn btn-primary ml-2" (click)="insertSpecialization()">Dodaj specijalizaciju</button>
        </div>
      </div>
      <div class="container d-flex justify-content-center mt4 alertovi">
        <div class="alert alert-success" role="alert" *ngIf="alertTrigger">
          Uspešno ste dodali specijalizaciju!
        </div>
        <div class="alert alert-danger" role="alert" *ngIf="errorMessage">
          Specijalizacija već postoji!
        </div>
      </div>
    </div>
  </div>



  <div class="container mt-4 background filter-container filter-container3" [ngClass]="{'show-filter3': !showFilters3} ">
    <div class="container   justify-content-center " style="width: 100%;">
      <h3 class="text-center mt-3" id="specijalizacija">{{ime}}</h3>
      <div class="table-responsive mb-4">
        <table class="table table-bordered table-striped ">
          <thead>
            <tr>
              <th>Naziv pregleda</th>
              <th>Specijalizacija</th>
              <th>Cena</th>
              <th>Trajanje</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let pregled of preg">
              <td>{{pregled.name}}</td>
              <td>{{pregled.specialization}}</td>
              <td>{{pregled.price}}</td>
              <td>{{pregled.duration}}</td>
              <td><button class="btn btn-primary" (click)="azurirajPregled(pregled.name)">ažuriraj</button></td>
              <td><button class="btn btn-primary" (click)="izbrisiPaket(pregled.name,pregled.specialization)" >izbriši</button></td>
            </tr>
            <tr *ngFor="let pregled of pregIzbr" class="izbrisani">
              <td>{{pregled.name}}</td>
              <td>{{pregled.specialization}}</td>
              <td>{{pregled.price}}</td>
              <td>{{pregled.duration}}</td>
              <td><button class="btn btn-primary" (click)="azurirajPregled(pregled.name)">ažuriraj</button></td>
              <td><button class="btn btn-primary" (click)="vratiPaket(pregled.name,pregled.specialization)" >vrati</button></td>
            </tr>
            <tr>
              <td> <input type="text" class="form-control" placeholder="Naziv pregleda" id="name"></td>
              <td> <input type="text" class="form-control" placeholder="Naziv specijalizacije" value="{{ime}}" readonly="readonly"></td>
              <td> <input type="text" class="form-control" placeholder="Cena pregleda" id="price"></td>
              <td> <input type="text" class="form-control" placeholder="Trajanje pregleda" id="duration"></td>
              <td> <button class="btn btn-primary ml-2" (click)="dodajPregled()">dodaj </button></td>
            </tr>
          </tbody>

        </table>


      </div>
      <div class="container d-flex justify-content-center mt4 alertovi">
        <div class="alert alert-success" role="alert" *ngIf="alertTrigger">
          Uspešno ste dodali pregled!
        </div>
        <div class="alert alert-danger" role="alert" *ngIf="errorMessage2">
          Pregled sa tim imenom već postoji u SISTEMU!
        </div>
        <div class="alert alert-danger" role="alert" *ngIf="errorBool">
          Naziv i cena ne smeju biti prazni!
        </div>
      </div>
      <div class="container d-flex justify-content-center mt-4 skrt ">
        <div class="d-flex justify-content-center">
          <button class="btn btn-primary ml-2" (click)="preglediNazad()">Nazad</button>
        </div>
      </div>
    </div>
  </div>



  <div class="container mt-4 background filter-container filter-container2 " [ngClass]="{'show-filter2': !showFilters2} ">
    <div class="container   justify-content-center " style="width: 100%;">
      <h3 class="text-center mt-3" id="specijalizacija">{{azuriramIme}}</h3>



      <table class="table table-bordered table-striped ">
        <thead>
          <tr>
            <th>Specijalizacija</th>
            <th>Cena</th>
            <th>Trajanje</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>{{azuriramSpecialization}}</td>
            <td> <input type="text" class="form-control" placeholder="Cena pregleda" id="azuriramPrice" value="{{azuriramPrice}}"></td>
            <td> <input type="text" class="form-control" placeholder="Trajanje pregleda" id="azuriramDuration" value="{{azuriramDuration}}"></td>
            <td> <button class="btn btn-primary ml-2" (click)="azurirajPregledFinal()" >Azuriraj </button></td>
          </tr>
        </tbody>

      </table>





     


      
      <div class="container d-flex justify-content-center mt4 alertovi">
        <div class="alert alert-success" role="alert" *ngIf="alertTrigger">
          Uspesno ste ažurirali pregled!
        </div>
        
        <div class="alert alert-danger" role="alert" *ngIf="errorBool">
          Cena i trajanje moraju biti brojevi (trajanje može prazno)
        </div>
      </div>
      
        <div class="d-flex justify-content-center mt-1">
          <button class="btn btn-primary ml-2" (click)="azuriranjeNazad()">Nazad</button>
        </div>
      
    </div>
  </div>



  <hr>

  <div class="container ">
    <h3 class="text-center mt-3">Pregledi koji čekaju da se odobre</h3>
    <div class="table-responsive mb-4">
      <table class="table table-bordered table-striped ">
        <thead>
          <tr>
            <th>Naziv</th>
            <th>Specijalizacija</th>
            <th>Cena</th>
            <th>Trajanje</th>
            <th>Odobri</th>
            <th>Odbij</th>
          </tr>
        </thead>
        <tbody>
           <tr *ngFor="let pregled of preglediCekaju">
            <th>{{pregled.name}}</th>
            <th>{{pregled.specialization}}</th>
            <th>{{pregled.price}}</th>
            <th>{{pregled.duration}}</th>
            <td><button class="btn btn-primary" (click)="odobriPaket(pregled.name)">odobri</button></td>
            <td><button class="btn btn-primary" (click)="odbijPaket(pregled.name)">odbij</button></td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</body>

